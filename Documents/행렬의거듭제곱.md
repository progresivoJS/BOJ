# 행렬의 거듭제곱

## Basic

A가 m by m matrix라고 할 때 , 기본적으로 행렬의 곱셈은 O(m^3)이 걸림. (이 과정을 스트라센의 행렬 곱 알고리즘을 이용하면 최적화 가능)

따라서 A^n 을 구하려면 O(m * n^3)이 걸린다.

근데 DQ를 이용하게 되면, 홀수일 때는 A * pow(A, n-1) 하고, 짝수 일 때는 half = pow(A, n/2)를 구한 뒤, half * half 를 한다.

단, 이 때 홀수를 적절히 반으로 나누게 되면 더 계산량이 많아지므로 주의한다.

이런식으로 하게 되면, 곱셈이 log n 번만 호출되므로 O(log n * m^3)만에 A^n 을 구할 수 있다.

## fibonacci

위 사실을 이용해 fibonacci수열의 값을 더 빠르게 구할 수 있다.
fibonacci(n) = pow(W, n-1).getValue()의 2행 2열의 값이다. 이거에 대한 자세한 설명은 알고리즘 풀이전략 책에 p.353을 참고한다.

DP를 이용하면 fibonacci 수열을 O(n)에 구할 수 있다. 하지만 행렬의 거듭제곱을 이용하면 O(log n * m^3)만에 구할 수 있다. 이 때, m 은 2이므로 사실상 O(log n)만에 구할 수 있다.

그러므로 굉장히 빠르게 구할 수 있다.
